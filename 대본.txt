결제와 관리자페이지 및 기타기능을 담당한 이동호 입니다. 발표 이어가겠습니다.

먼저 피드백을 받았던 중복결제 방지 기능입니다.
다른 유저가 해당 좌석의 결제를 진행중인 경우, 알림메세지와 예약 진행중인 좌석번호를 출력합니다.
또한 다른유저가 결제를 완료하고 예약이 완료된 경우에도 알림메세지와 예약이 완료된 좌석번호를 출력합니다.

다음 결제 기능입니다.
카카오, 토스페이, 이니시스 등 다양한 결제모듈을 사용할수 있습니다.
영상은 카카오페이 기준으로 보여드리겠습니다.
알림톡이 오면 사용자가 결제를 진행할수 있고, 결제완료 후에는 결제완료 알림톡이 오게됩니다.

다음 회원관련 기능들입니다.
회원 가입시에 인증메일을 발송하고, 만약 인증되지 않은 계정이거나 유효기간 만료시에는 경고메세지와 재전송 링크를 출력합니다.

이메일 찾기 기능입니다.
입력값이 모두 일치시에 해당하는 사용자의 이메일주소를 출력합니다.
일치하는 계정이 없을시에는 경고메세지를 출력합니다.

비밀번호 찾기 기능입니다.
마찬가지로 모두 일치시에 가입한 이메일로 임시 비밀번호를 발송합니다.
임시비밀번호로 로그인 할때마다 비밀번호를 변경해달라는 알림창을 출력합니다.

다음으로 관리자 페이지 입니다.
먼저 모든 항공편을 페이지네이션하여 출력하고, 상단에서 운항일, 항공사, 출/도착지, 결항 여부로 검색이 가능합니다.

운항정보 추가 기능입니다.
운항정보 추가 버튼 클릭시에 추가 창을 출력하고, 모두입력후 추가버튼 클릭시 새로운 운항정보가 추가됩니다.

지연설정 기능입니다.
지연 버튼 클릭시에 해당 항공편의 지연창이 출력되고, 날짜, 시간, 지연사유를 입력할수 있습니다.
지연시에는 해당 항공편을 예약한 유저에게 메일을 발송합니다.
사유 버튼 클릭시에 해당 항공편의 지연사유를 출력하는 창을 출력합니다.

결항설정 기능입니다.
결항 버튼 클릭시 관리자가 다시한번 확인할수 있도록 해당 항공편의 정보를 출력하는 창이뜨고, 창 안의 결항버튼 클릭시 결항사유 입력창을 출력합니다.
결항사유 입력시에는 해당 항공편을 예약한 사용자에게 메일발송 및 환불처리가 됩니다.
결항설정을 한 경우에는 지연버튼을 삭제하고, 결항사유 버튼을 출력합니다.

다음은 스케줄러 입니다.
먼저 리마인더 메일 발송입니다.
예약한 항공편의 출발 3시간전에 자동으로 리마인더 메일을 발송합니다.

매일 1회, 탈퇴한지 2년이상 지난 유저정보나, 운행한지 2년이상 지난 운항정보를 자동으로 삭제합니다.

로그아웃 후 뒤로가기시에 그대로 로그인된 화면이 현상이 있었는데, 이 현상을 수정했습니다.

다음으로 사용자 경험 개선입니다.
피드백을 받은 사항은 아니지만, 제 개인적으로 개선해보고싶은 부분들이었습니다.
저희가 메일을 자체서버가 아닌, 구글서버를 사용하다 보니, 메일전송에 시간이 엄청 오래걸렸습니다.
메일을 보내는 횟수에 따라 다르지만, 42초정도 걸리던 처리가 있었는데, 이 부분을 비동기처리로 사용자 경험을 개선했습니다.
영상을 보시면 처리가 즉시 완료되는것을 보실수 있습니다.

마찬가지로 사용자 경험 개선입니다.
저희 DB에 30만건 정도의 데이터가 있는 테이블이 있습니다.
이 테이블에 Left Join 사용으로 인해 5분정도 걸리던 처리를 Index사용으로 0.06초로 단축했습니다.